2025-11-21 20:35:25,644 - INFO - Successfully connected to Odoo as apichart@mogen.co.th
2025-11-21 20:35:39,601 - ERROR - Error creating PO BPO-6700023: <Fault 1: 'Traceback (most recent call last):\n  File "/opt/instance1/odoo17/odoo/addons/base/controllers/rpc.py", line 147, in xmlrpc_2\n    response = self._xmlrpc(service)\n               ^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/addons/base/controllers/rpc.py", line 127, in _xmlrpc\n    result = dispatch_rpc(service, method, params)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/http.py", line 389, in dispatch_rpc\n    return dispatch(method, params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/service/model.py", line 37, in dispatch\n    res = execute_kw(db, uid, *params[3:])\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/service/model.py", line 59, in execute_kw\n    return execute(db, uid, obj, method, *args, **kw or {})\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/service/model.py", line 65, in execute\n    res = execute_cr(cr, uid, obj, method, *args, **kw)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/service/model.py", line 50, in execute_cr\n    result = retrying(partial(odoo.api.call_kw, recs, method, args, kw), env)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/service/model.py", line 133, in retrying\n    result = func()\n             ^^^^^^\n  File "/opt/instance1/odoo17/odoo/api.py", line 466, in call_kw\n    result = _call_kw_model_create(method, model, args, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/api.py", line 444, in _call_kw_model_create\n    result = method(recs, *args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<decorator-gen-193>", line 2, in create\n  File "/opt/instance1/odoo17/odoo/api.py", line 414, in _model_create_multi\n    return create(self, [arg])\n           ^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/addons/purchase_requisition/models/purchase.py", line 137, in create\n    orders = super().create(vals_list)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<decorator-gen-176>", line 2, in create\n  File "/opt/instance1/odoo17/odoo/api.py", line 415, in _model_create_multi\n    return create(self, arg)\n           ^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/addons/purchase/models/purchase_order.py", line 256, in create\n    orders |= super(PurchaseOrder, self_comp).create(vals)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<decorator-gen-48>", line 2, in create\n  File "/opt/instance1/odoo17/odoo/api.py", line 414, in _model_create_multi\n    return create(self, [arg])\n           ^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/addons/mail/models/mail_thread.py", line 259, in create\n    threads = super(MailThread, self).create(vals_list)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<decorator-gen-0>", line 2, in create\n  File "/opt/instance1/odoo17/odoo/api.py", line 415, in _model_create_multi\n    return create(self, arg)\n           ^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/models.py", line 4627, in create\n    records = self._create(data_list)\n              ^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/models.py", line 4874, in _create\n    field.create([\n  File "/opt/instance1/odoo17/odoo/fields.py", line 4332, in create\n    self.write_batch(record_values, True)\n  File "/opt/instance1/odoo17/odoo/fields.py", line 4358, in write_batch\n    self.write_real(records_commands_list, create)\n  File "/opt/instance1/odoo17/odoo/fields.py", line 4547, in write_real\n    flush()\n  File "/opt/instance1/odoo17/odoo/fields.py", line 4503, in flush\n    comodel.create(to_create)\n  File "<decorator-gen-195>", line 2, in create\n  File "/opt/instance1/odoo17/odoo/api.py", line 415, in _model_create_multi\n    return create(self, arg)\n           ^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/addons/purchase_stock/models/purchase_order_line.py", line 90, in create\n    lines = super(PurchaseOrderLine, self).create(vals_list)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<decorator-gen-192>", line 2, in create\n  File "/opt/instance1/odoo17/odoo/api.py", line 415, in _model_create_multi\n    return create(self, arg)\n           ^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/addons/project_purchase/models/purchase_order_line.py", line 18, in create\n    lines = super().create(vals_list)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<decorator-gen-177>", line 2, in create\n  File "/opt/instance1/odoo17/odoo/api.py", line 415, in _model_create_multi\n    return create(self, arg)\n           ^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/addons/purchase/models/purchase_order_line.py", line 200, in create\n    values.update(self._prepare_add_missing_fields(values))\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/addons/purchase/models/purchase_order_line.py", line 576, in _prepare_add_missing_fields\n    line = self.new(values)\n           ^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/models.py", line 6456, in new\n    record._update_cache(values, validate=False)\n  File "/opt/instance1/odoo17/odoo/models.py", line 6022, in _update_cache\n    value = field.convert_to_cache(value, self, validate)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/fields.py", line 1545, in convert_to_cache\n    return float_round(value, precision_digits=digits[1]) if digits else value\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/tools/float_utils.py", line 111, in float_round\n    rounded_value = round(normalized_value)     # round to integer\n                    ^^^^^^^^^^^^^^^^^^^^^^^\n  File "/opt/instance1/odoo17/odoo/tools/float_utils.py", line 19, in round\n    roundf = builtins.round(f)\n             ^^^^^^^^^^^^^^^^^\nValueError: cannot convert float NaN to integer\n'>
